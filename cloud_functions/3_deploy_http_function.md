# Deploy an HTTP-Triggered Cloud Function
Once you've used the Functions Framework to test the Cloud Function within your Cloud Shell, you can *deploy* your function to GCP.

```{note}
You must have already created a [Google Cloud Project](gcp:cloud_project:createcloudproject) that is connected to a Billing Account before you deploy your Cloud Function!
```

(gcf:deploy_http:connect_cloud_project)=
## Connect Your Cloud Shell to your Google Cloud Project
You must connect your Cloud Shell to your GCP project so that your Cloud Function is deployed and connected to the correct Billing Account.

In the Cloud Shell terminal, do the following:

1. Use the Google Cloud Command Line Interface (gcloud CLI) to connect your terminal to the correct Cloud Project by entering `gcloud config set project project_name`. Replace `project_name` with the name of the correct GCP project.

2. After pressing Enter, you may be asked to confirm your login. Follow the instructions provided in the terminal.

3. Once your project is connected, the project name will appear in the terminal prompt in yellow text. This indicates that you are issuing commands to the GCP project that is displayed.

(gcf:deploy_http:deploy_function)=
## Deploy the Cloud Function to the GCP Project
Once you have a project activated, you can issue commands to the project via the CLI. To deploy a Cloud Function, you will target the `functions` module.

Navigate **into** the root directory for your Cloud Function (the directory that includes your `index.js` file).

Prior to issuing the command, ensure you know the correct setting for each of the following arguments you must provide:

* Cloud Function name *(this is the name of the function in GCP, **not** the name of your local function exported by the module)*
* runtime
* region
* entry-point *(this is the name of the function exported in the module that will be called when the Cloud Function is triggered)*

With that information in hand, issue the following command via the terminal, and insert your pre-determined argument values where appropriate:

```
gcloud functions deploy hello_http \
  --runtime=nodejs18 \
  --region=us-central1 \
  --source=. \
  --entry-point=hello \
  --trigger-http \
  --allow-unauthenticated
```

The above statement will deploy a Cloud Function named `hello_http` on a Node.js runtime `nodejs18` in the `us-central1` region. The function will be triggered by an HTTP call and does not require authentication (it will be publicly available). When the Cloud Function is invoked, the `hello()` function exported in the module will be called first.

(gcf:deploy_http:enable_apis)=
## Enable Cloud Build and Cloud Function APIs
If this is the first time you have deployed a Cloud Function in this GCP project, you will be prompted to enable both the Cloud Build and Cloud Function APIs. GCP APIs are disabled by default (to prevent accidental billing charges).

You must enable both APIs for the deployment to proceed.

If prompted, re-issue your `gcloud functions deploy...` command after the APIs are enabled.

(gcf:deploy_http:test_function_url)=
## Test Your Cloud Function at the Provided URL
Once deployed, your Cloud Function will automatically create a *trigger URL*. This will be displayed in your terminal window as well as the Cloud Function's detail page in the Cloud Console.

Copy the trigger URL and paste it into a web browser window. If your Cloud Function depends on querystring values, be sure to manually append a querystring to the end of the URL.

You should see the response from your Cloud Function in the browser window. Note, however, that the output from the `console.log()` statement *does not* appear in the Cloud Shell terminal.

(gcf:deploy_http:view_logs)=
## View Cloud Function Logs
There are two ways to view the log statements generated by your Cloud Function: from the Cloud Function details page in Cloud Console, or via the **Log Explorer** tool. The details page is easiest for now.

In [Google Cloud Console](https://console.cloud.google.com), ensure the correct GCP project is selected. Visit the dashboard for the project.

From the hamburger menu at the top left, scroll to the **SERVERLESS** category and select **Cloud Functions**.

You are presented with a list of all Cloud Functions deployed to this project. Click on the linked `hello_http` Cloud Function.

Initially you are presented with a Metrics window that shows traffic for this Cloud Function. From the horizontal navigation, choose **LOGS**.

The Logs for a specific time period are presented. The logs may need to be refreshed by using the refresh option in the top right of the Logs window.

View the output of the log and ensure that you see the expected output from your Cloud Function.